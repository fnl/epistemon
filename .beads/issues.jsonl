{"id":"epistemon-049","title":"Hybrid Retrieval","description":"AS A user\nI WANT TO search using both keyword-based (BM25) and semantic (embedding) retrieval combined\nSO THAT I get the most relevant results by leveraging the strengths of both approaches\n\nThis epic implements hybrid retrieval that merges and deduplicates results from multiple retrieval strategies to improve search quality.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-03T14:36:37.574905264+01:00","created_by":"fnl","updated_at":"2026-01-04T00:21:19.987050207+01:00","closed_at":"2026-01-04T00:21:19.987050207+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-049","depends_on_id":"epistemon-s5a","type":"blocks","created_at":"2026-01-03T14:36:47.262570271+01:00","created_by":"fnl"}]}
{"id":"epistemon-125","title":"Testing Infrastructure","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-03T14:36:38.809306485+01:00","created_by":"fnl","updated_at":"2026-01-03T16:27:47.134497603+01:00","deleted_at":"2026-01-03T16:27:47.134497603+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"epic"}
{"id":"epistemon-1r9","title":"Obey the UI-provided result limit in the RAG chain, too","description":"The RAG chain should get the same number of results from BM25 and embedding search as configured (k).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T11:18:17.86875594+01:00","created_by":"fnl","updated_at":"2026-01-04T14:55:13.363334922+01:00","closed_at":"2026-01-04T14:55:13.363334922+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-1r9","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-04T11:28:14.48510225+01:00","created_by":"daemon"}]}
{"id":"epistemon-2vi","title":"Add the markdown filename without the .md extension to every chunk","description":"Add a piece of text to the end of every chunk:\n\nSource: \u003cfilename without extension or path\u003e","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T20:18:57.25690547+01:00","updated_at":"2026-01-04T20:24:25.283868878+01:00","closed_at":"2026-01-04T20:24:25.283868878+01:00","close_reason":"Closed"}
{"id":"epistemon-31b","title":"Add integration test for full RAG pipeline","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:25.688068845+01:00","created_by":"fnl","updated_at":"2026-01-03T16:27:45.954566532+01:00","dependencies":[{"issue_id":"epistemon-31b","depends_on_id":"epistemon-125","type":"blocks","created_at":"2026-01-03T14:37:50.299799031+01:00","created_by":"fnl"}],"deleted_at":"2026-01-03T16:27:45.954566532+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"epistemon-3il","title":"RAG Chain Implementation","description":"AS A user\nI WANT TO ask questions about my documents and receive AI-generated answers\nSO THAT I can quickly understand information without reading through all the source material\n\nThis epic implements the core RAG (Retrieval-Augmented Generation) chain that retrieves relevant documents and generates contextualized answers using an LLM.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-03T14:36:37.8547856+01:00","created_by":"fnl","updated_at":"2026-01-04T13:43:00.114678891+01:00","closed_at":"2026-01-04T13:43:00.114678891+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-3il","depends_on_id":"epistemon-049","type":"blocks","created_at":"2026-01-03T14:36:47.280626049+01:00","created_by":"fnl"}]}
{"id":"epistemon-3io","title":"Remove common stop-words from the BM25 index.","description":"Research a good English stop-word list to use in Python and fiter out those stopwords before indexing.\n\nUpdate the bm25_indexer.py module to filter out those words.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T11:11:40.472702938+01:00","created_by":"fnl","updated_at":"2026-01-04T13:32:59.858007252+01:00","closed_at":"2026-01-04T13:32:59.858007252+01:00","close_reason":"Closed"}
{"id":"epistemon-3s3","title":"Display the RAG answer as properly formatted HTML generated from the markdown answer.","description":"Convert the answer to properly formatted HTML, and make sure the LLM always produces a markdown answer by adding an instruction to the default prompt. When the HTML generation fails, fall back to showing a plain-text box and log a warning.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T11:22:15.670635622+01:00","created_by":"fnl","updated_at":"2026-01-04T15:01:47.105505721+01:00","closed_at":"2026-01-04T15:01:47.105505721+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-3s3","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-04T11:26:01.580368714+01:00","created_by":"daemon"}]}
{"id":"epistemon-3t8","title":"Wire create_traced_rag_chain in CLI web_ui_command","description":"### Scenario: RAG chain is wrapped when tracing is enabled\n- GIVEN tracing_enabled is true in configuration\n- WHEN web_ui_command creates the RAG chain\n- THEN it wraps it via create_traced_rag_chain before passing to create_app\n\n### Scenario: RAG chain is unwrapped when tracing is disabled\n- GIVEN tracing_enabled is false in configuration\n- WHEN web_ui_command creates the RAG chain\n- THEN the plain RAGChain is passed to create_app","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-31T21:34:05.59262531+01:00","created_by":"fnl","updated_at":"2026-01-31T21:34:05.59262531+01:00","dependencies":[{"issue_id":"epistemon-3t8","depends_on_id":"epistemon-z5r","type":"parent-child","created_at":"2026-01-31T21:34:10.045482587+01:00","created_by":"fnl"},{"issue_id":"epistemon-3t8","depends_on_id":"epistemon-fh8","type":"blocks","created_at":"2026-01-31T21:34:15.077420872+01:00","created_by":"fnl"}]}
{"id":"epistemon-3z8","title":"Integrate BM25 keyword search","description":"Implement BM25 keyword-based search alongside semantic search for comparison in the web UI. Uses in-memory BM25 that rebuilds on startup. Supports V1 goals from ROADMAP.md.\n\n## User Story\n\nAS A researcher exploring search strategies\nI WANT TO compare BM25 keyword search with semantic embedding search\nSO THAT I can understand when each approach is more effective for my queries","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-02T18:08:13.161003961+01:00","created_by":"fnl","updated_at":"2026-01-03T10:19:42.047382229+01:00","closed_at":"2026-01-03T10:19:42.047382229+01:00","close_reason":"Closed"}
{"id":"epistemon-3z8.1","title":"Implement in-memory BM25 indexer","description":"Create a BM25Indexer class that builds an in-memory BM25 index from markdown chunks on startup. No persistence needed - rebuild from vector store documents each time. Should integrate with existing document loading workflow.\n\nUse TDD: Write tests first, then implement. Tests should cover index building, document loading, and integration with existing workflows.","acceptance_criteria":"GIVEN a collection of markdown document chunks\nWHEN the BM25 indexer is initialized on application startup\nTHEN it builds an in-memory BM25 index from all document page_content\nAND the index is ready for query execution\nAND no persistence to disk is required","notes":"Implementation loads markdown chunks from input directory on disk, not from vector store. Uses same chunking strategy (load_and_chunk_markdown) as vector store for consistency. BM25 index is built in-memory from page_content of chunks.","status":"closed","priority":2,"issue_type":"task","assignee":"fnl","created_at":"2026-01-02T18:12:02.968650246+01:00","created_by":"fnl","updated_at":"2026-01-03T09:24:49.80166644+01:00","closed_at":"2026-01-03T09:24:49.801669712+01:00","dependencies":[{"issue_id":"epistemon-3z8.1","depends_on_id":"epistemon-3z8","type":"parent-child","created_at":"2026-01-02T18:12:02.969658696+01:00","created_by":"fnl"}]}
{"id":"epistemon-3z8.2","title":"Add BM25 retrieval function","description":"Implement retrieval function that returns top-k chunks using BM25 scoring. Should match the interface of semantic search retrieval (accept query string, return Documents with scores).\n\nUse TDD: Write tests first, then implement. Tests should verify ranking correctness, score calculation, and Document interface compliance.","acceptance_criteria":"GIVEN a BM25 index has been built from documents\nWHEN a user submits a query string with a result limit\nTHEN the retriever returns the top-k ranked documents with BM25 scores\nAND the results match LangChain's Document interface\nAND scores represent BM25 relevance ranking","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T18:12:10.037318284+01:00","created_by":"fnl","updated_at":"2026-01-03T09:37:48.474176447+01:00","closed_at":"2026-01-03T09:37:48.474176447+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-3z8.2","depends_on_id":"epistemon-3z8","type":"parent-child","created_at":"2026-01-02T18:12:10.04141626+01:00","created_by":"fnl"},{"issue_id":"epistemon-3z8.2","depends_on_id":"epistemon-3z8.1","type":"blocks","created_at":"2026-01-02T18:20:03.696656592+01:00","created_by":"fnl"}]}
{"id":"epistemon-3z8.3","title":"Update Shiny UI for side-by-side results","description":"Add BM25 results column to Shiny UI alongside semantic search results. Display both result sets side-by-side with source, content snippet, and scores for comparison.\n\n## Current UI Structure\n- Layout: Sidebar + single main column\n- Sidebar: Query input, limit input, search button\n- Main area: Vertical list of result cards\n- Each card: Result number, score badge, content snippet, source/metadata\n\n## Required Changes\n\n### 1. Layout Restructure (Two Columns)\nReplace single results area with side-by-side columns:\n- Left column: BM25 (Keyword Search) results\n- Right column: Semantic (Embedding Search) results\n- Use ui.layout_columns() or ui.row() with multiple columns\n\n### 2. Column Headers\n- Clear labels for each column: \"BM25 (Keyword Search)\" and \"Semantic (Embedding Search)\"\n\n### 3. Parallel Search Execution\n- Call both BM25 and semantic search with same query\n- Align results: result N from BM25 next to result N from semantic\n\n### 4. Visual Differentiation\n- Distinct score badge colors for BM25 scores vs similarity/distance scores\n- Handle different result counts: show empty state if one strategy returns fewer results\n\n### 5. Function Signature Update\ncreate_shiny_app() needs BM25 retriever parameter:\n  def create_shiny_app(\n      vector_store: VectorStore,\n      bm25_retriever: BM25Retriever,  # NEW\n      base_url: str = \"\",\n      score_threshold: float = 0.0,\n  ) -\u003e App:\n\n### 6. Result Rendering\nGenerate two sets of cards in parallel, maintaining alignment by rank position.\n\nFile: epistemon/web/shiny_ui.py (lines 25-182)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-02T18:12:13.040866106+01:00","created_by":"fnl","updated_at":"2026-01-02T18:17:00.273394377+01:00","dependencies":[{"issue_id":"epistemon-3z8.3","depends_on_id":"epistemon-3z8","type":"parent-child","created_at":"2026-01-02T18:12:13.044913639+01:00","created_by":"fnl"}],"deleted_at":"2026-01-02T18:17:00.273394377+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"epistemon-3z8.4","title":"Add tests for BM25 functionality","description":"Write unit and integration tests for BM25 indexer and retriever using TDD workflow. Tests should verify correct ranking, score calculation, and integration with document loading.","acceptance_criteria":"GIVEN the BM25 indexer and retriever are implemented\nWHEN the test suite is executed\nTHEN all unit tests for indexing pass\nAND all unit tests for retrieval pass\nAND integration tests verify correct ranking behavior\nAND tests verify score calculation accuracy","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-02T18:12:16.357393473+01:00","created_by":"fnl","updated_at":"2026-01-02T18:36:28.547546366+01:00","deleted_at":"2026-01-02T18:36:28.547546366+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"epistemon-3z8.5","title":"Add BM25 configuration options","description":"Add BM25-specific configuration options to config.yaml (k1, b parameters, top_k results). Document parameter meanings and sensible defaults.","acceptance_criteria":"GIVEN the BM25 implementation is complete\nWHEN config.yaml is updated with BM25 settings\nTHEN users can configure k1 parameter (term frequency saturation)\nAND users can configure b parameter (length normalization)\nAND users can configure top_k results limit\nAND sensible defaults are documented","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T18:12:34.512054473+01:00","created_by":"fnl","updated_at":"2026-01-03T09:49:43.540701712+01:00","closed_at":"2026-01-03T09:49:43.540701712+01:00","close_reason":"Completed BM25 configuration implementation with k1, b, and top_k parameters. All tests passing.","dependencies":[{"issue_id":"epistemon-3z8.5","depends_on_id":"epistemon-3z8","type":"parent-child","created_at":"2026-01-02T18:12:34.515959802+01:00","created_by":"fnl"},{"issue_id":"epistemon-3z8.5","depends_on_id":"epistemon-3z8.1","type":"blocks","created_at":"2026-01-02T18:20:04.279229207+01:00","created_by":"fnl"}]}
{"id":"epistemon-3z8.6","title":"Document BM25 architecture","description":"Document BM25 implementation patterns in CLAUDE.md: in-memory rebuild strategy, integration with vector store, comparison with semantic search approach.","acceptance_criteria":"GIVEN all BM25 implementation tasks are complete\nWHEN CLAUDE.md is updated\nTHEN the in-memory rebuild strategy is documented\nAND the integration with vector store is explained\nAND the comparison with semantic search approach is described\nAND implementation patterns are clear for future developers","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T18:12:37.481482929+01:00","created_by":"fnl","updated_at":"2026-01-03T10:19:21.181349224+01:00","closed_at":"2026-01-03T10:19:21.181349224+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-3z8.6","depends_on_id":"epistemon-3z8","type":"parent-child","created_at":"2026-01-02T18:12:37.482498058+01:00","created_by":"fnl"},{"issue_id":"epistemon-3z8.6","depends_on_id":"epistemon-3z8.1","type":"blocks","created_at":"2026-01-02T18:20:04.568196786+01:00","created_by":"fnl"},{"issue_id":"epistemon-3z8.6","depends_on_id":"epistemon-3z8.2","type":"blocks","created_at":"2026-01-02T18:20:04.583740404+01:00","created_by":"fnl"},{"issue_id":"epistemon-3z8.6","depends_on_id":"epistemon-3z8.5","type":"blocks","created_at":"2026-01-02T18:20:04.615031659+01:00","created_by":"fnl"},{"issue_id":"epistemon-3z8.6","depends_on_id":"epistemon-3z8.7","type":"blocks","created_at":"2026-01-02T18:20:04.631517902+01:00","created_by":"fnl"}]}
{"id":"epistemon-3z8.7","title":"Update Shiny UI for side-by-side search comparison","description":"Restructure the Shiny UI to display BM25 keyword search and semantic embedding search results side-by-side for direct comparison. This epic covers all UI layout, rendering, and integration changes needed.\n\n## User Story\n\nAS A user searching for information\nI WANT TO see BM25 and semantic search results side-by-side\nSO THAT I can quickly compare which strategy surfaces more relevant results for my query","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-02T18:16:34.466700854+01:00","created_by":"fnl","updated_at":"2026-01-03T10:17:59.053682014+01:00","closed_at":"2026-01-03T10:17:59.053682014+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-3z8.7","depends_on_id":"epistemon-3z8","type":"parent-child","created_at":"2026-01-02T18:16:34.467644561+01:00","created_by":"fnl"}]}
{"id":"epistemon-3z8.7.1","title":"Update create_shiny_app function signature","description":"Add bm25_retriever parameter to create_shiny_app() function signature. Update all callers in app.py. File: epistemon/web/shiny_ui.py","acceptance_criteria":"GIVEN the BM25 retriever exists\nWHEN the create_shiny_app function signature is updated\nTHEN it accepts a bm25_retriever parameter\nAND all callers in app.py are updated\nAND type hints are correct\nAND no existing functionality breaks","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T18:17:08.739928064+01:00","created_by":"fnl","updated_at":"2026-01-03T09:55:39.705219945+01:00","closed_at":"2026-01-03T09:55:39.705219945+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-3z8.7.1","depends_on_id":"epistemon-3z8.7","type":"parent-child","created_at":"2026-01-02T18:17:08.740976074+01:00","created_by":"fnl"},{"issue_id":"epistemon-3z8.7.1","depends_on_id":"epistemon-3z8.2","type":"blocks","created_at":"2026-01-02T18:20:04.945340901+01:00","created_by":"fnl"}]}
{"id":"epistemon-3z8.7.2","title":"Implement two-column layout structure","description":"Replace single results area with side-by-side columns using ui.layout_columns() or ui.row(). Add column headers: 'BM25 (Keyword Search)' and 'Semantic (Embedding Search)'. File: epistemon/web/shiny_ui.py","acceptance_criteria":"GIVEN the Shiny app UI exists\nWHEN the layout is restructured\nTHEN the results area displays two columns side-by-side\nAND the left column has header \"BM25 (Keyword Search)\"\nAND the right column has header \"Semantic (Embedding Search)\"\nAND columns are visually balanced and responsive","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T18:17:13.569363605+01:00","created_by":"fnl","updated_at":"2026-01-03T10:03:37.032073195+01:00","closed_at":"2026-01-03T10:03:37.032073195+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-3z8.7.2","depends_on_id":"epistemon-3z8.7","type":"parent-child","created_at":"2026-01-02T18:17:13.573652939+01:00","created_by":"fnl"}]}
{"id":"epistemon-3z8.7.3","title":"Implement parallel search execution","description":"Execute both BM25 and semantic search with the same query in the results() function. Handle errors from either search independently. File: epistemon/web/shiny_ui.py\n\nUse TDD: Write tests first, then implement. Tests should verify both searches execute, independent error handling, and results format.","acceptance_criteria":"GIVEN both BM25 and semantic retrievers are available\nWHEN a user submits a search query\nTHEN both BM25 and semantic searches execute with the same query\nAND each search executes independently\nAND errors from one search don't crash the other\nAND results are ready for parallel rendering","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T18:17:16.613691078+01:00","created_by":"fnl","updated_at":"2026-01-03T10:13:25.078791048+01:00","closed_at":"2026-01-03T10:13:25.078791048+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-3z8.7.3","depends_on_id":"epistemon-3z8.7","type":"parent-child","created_at":"2026-01-02T18:17:16.618124979+01:00","created_by":"fnl"},{"issue_id":"epistemon-3z8.7.3","depends_on_id":"epistemon-3z8.7.1","type":"blocks","created_at":"2026-01-02T18:20:05.249662791+01:00","created_by":"fnl"},{"issue_id":"epistemon-3z8.7.3","depends_on_id":"epistemon-3z8.2","type":"blocks","created_at":"2026-01-02T18:20:05.268163588+01:00","created_by":"fnl"}]}
{"id":"epistemon-3z8.7.4","title":"Implement side-by-side result rendering","description":"Generate two sets of result cards aligned by rank position. Use distinct badge colors for BM25 vs semantic scores. Handle different result counts gracefully with empty states. File: epistemon/web/shiny_ui.py\n\nUse TDD: Write tests first, then implement. Tests should verify column rendering, alignment, badge colors, and empty state handling.","acceptance_criteria":"GIVEN BM25 and semantic search results are available\nWHEN the results are rendered\nTHEN BM25 results appear in the left column\nAND semantic results appear in the right column\nAND results are aligned by rank position (result 1, 2, 3...)\nAND BM25 scores use distinct badge colors from semantic scores\nAND empty states display gracefully when result counts differ","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T18:17:19.16560527+01:00","created_by":"fnl","updated_at":"2026-01-03T10:17:35.790805792+01:00","closed_at":"2026-01-03T10:17:35.790805792+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-3z8.7.4","depends_on_id":"epistemon-3z8.7","type":"parent-child","created_at":"2026-01-02T18:17:19.169840311+01:00","created_by":"fnl"},{"issue_id":"epistemon-3z8.7.4","depends_on_id":"epistemon-3z8.7.2","type":"blocks","created_at":"2026-01-02T18:20:05.579274615+01:00","created_by":"fnl"},{"issue_id":"epistemon-3z8.7.4","depends_on_id":"epistemon-3z8.7.3","type":"blocks","created_at":"2026-01-02T18:20:05.595032514+01:00","created_by":"fnl"}]}
{"id":"epistemon-3z8.7.5","title":"Add UI integration tests","description":"Write tests for the side-by-side UI rendering: verify both columns render, parallel search execution works, error handling for each search type, and alignment of results by rank.","acceptance_criteria":"GIVEN the side-by-side UI is implemented\nWHEN UI integration tests are executed\nTHEN tests verify both columns render correctly\nAND tests verify parallel search execution works\nAND tests verify error handling for each search type\nAND tests verify result alignment by rank","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-02T18:17:21.650682923+01:00","created_by":"fnl","updated_at":"2026-01-02T18:36:28.547546366+01:00","deleted_at":"2026-01-02T18:36:28.547546366+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"epistemon-4sx","title":"Implement and test three-column layout structure","description":"Use TDD to implement this feature:\n1. Write failing tests for three-column layout\n2. Implement layout structure in shiny_ui.py\n3. Refactor and ensure all tests pass\n\nGIVEN the web UI is displayed\nWHEN the user views the search interface\nTHEN there should be three columns: BM25, Semantic, and RAG Answer\nAND each column should be clearly labeled and visually distinct\nAND the layout should be responsive and easy to compare results side-by-side\nSO THAT users can evaluate the quality and relevance of different search approaches","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:17.942338695+01:00","created_by":"fnl","updated_at":"2026-01-04T09:57:17.042567089+01:00","closed_at":"2026-01-04T09:57:17.042567089+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-4sx","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-03T19:51:58.737808478+01:00","created_by":"fnl"},{"issue_id":"epistemon-4sx","depends_on_id":"epistemon-xlm","type":"blocks","created_at":"2026-01-03T22:41:37.77991484+01:00","created_by":"fnl"},{"issue_id":"epistemon-4sx","depends_on_id":"epistemon-guf.1","type":"blocks","created_at":"2026-01-04T09:31:55.742588462+01:00","created_by":"fnl"}]}
{"id":"epistemon-4wy","title":"Make the prompt for the RAG LLM user-configurable","description":"Make the RAG LLM prmopt configurable via the config.yaml file and (Jinja?) templates in  a separate ./prompts folder to be created at the root of the project. Move the prompt out of the rag_chain.py module.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T11:53:56.903761653+01:00","updated_at":"2026-01-04T13:42:11.617774701+01:00","closed_at":"2026-01-04T13:42:11.617774701+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-4wy","depends_on_id":"epistemon-3il","type":"parent-child","created_at":"2026-01-04T11:58:19.814591033+01:00","created_by":"daemon"}]}
{"id":"epistemon-5dt","title":"Implement and test max_docs limit enforcement","description":"Use TDD to implement this feature:\n1. Write failing tests for max_docs limit scenarios\n2. Implement limit enforcement in HybridRetriever.retrieve()\n3. Refactor and ensure all tests pass\n\nGIVEN the hybrid retriever merges results from multiple retrievers\nWHEN the merged results exceed the max_docs limit\nTHEN only the top max_docs results should be returned\nAND results should be ranked by score before limiting\nAND the limit should be configurable via the retrieve() method parameter\nSO THAT users can control result set size and avoid overwhelming the LLM with too much context","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:05.166194124+01:00","created_by":"fnl","updated_at":"2026-01-04T00:21:14.393677747+01:00","closed_at":"2026-01-04T00:21:14.393677747+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-5dt","depends_on_id":"epistemon-049","type":"parent-child","created_at":"2026-01-03T19:51:35.352554232+01:00","created_by":"fnl"},{"issue_id":"epistemon-5dt","depends_on_id":"epistemon-x4c","type":"blocks","created_at":"2026-01-03T22:37:13.637859054+01:00","created_by":"fnl"},{"issue_id":"epistemon-5dt","depends_on_id":"epistemon-qg1","type":"blocks","created_at":"2026-01-03T22:37:18.448968778+01:00","created_by":"fnl"}]}
{"id":"epistemon-6df","title":"Add explanation to \"RAG functionality not available\" alert","description":"When you show the error message \"RAG functionality not available\", try to suggest why not/what needs to be done to make it work.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T11:46:06.169669516+01:00","updated_at":"2026-01-04T13:06:48.935013927+01:00","closed_at":"2026-01-04T13:06:48.935013927+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-6df","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-04T11:46:49.492021366+01:00","created_by":"daemon"}]}
{"id":"epistemon-6hn","title":"Add langfuse dependency to pyproject.toml","description":"### Scenario: langfuse package is available\n- GIVEN the pyproject.toml dependencies list\n- WHEN langfuse\u003e=3.0.0 is added\n- THEN the package resolves via uv sync without conflicts","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-31T21:33:51.370392597+01:00","created_by":"fnl","updated_at":"2026-01-31T21:50:24.302976644+01:00","closed_at":"2026-01-31T21:50:24.302976644+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-6hn","depends_on_id":"epistemon-z5r","type":"parent-child","created_at":"2026-01-31T21:34:09.974593845+01:00","created_by":"fnl"}]}
{"id":"epistemon-6ho","title":"Write tests for Fake LLM creation","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T14:36:57.752982575+01:00","created_by":"fnl","updated_at":"2026-01-03T16:27:46.240834269+01:00","dependencies":[{"issue_id":"epistemon-6ho","depends_on_id":"epistemon-s5a","type":"blocks","created_at":"2026-01-03T14:37:48.475803206+01:00","created_by":"fnl"}],"deleted_at":"2026-01-03T16:27:46.240834269+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"epistemon-6tv","title":"Create test_llm_factory.py with unit tests","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:25.622603967+01:00","created_by":"fnl","updated_at":"2026-01-03T16:27:44.792051897+01:00","dependencies":[{"issue_id":"epistemon-6tv","depends_on_id":"epistemon-125","type":"blocks","created_at":"2026-01-03T14:37:50.233335814+01:00","created_by":"fnl"}],"deleted_at":"2026-01-03T16:27:44.792051897+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"epistemon-6xr","title":"When searching from the shiny_ui search bar, I have to hit enter twice to start the search","description":"I should only need to hit enter once to start the search.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-04T14:52:59.251347663+01:00","updated_at":"2026-01-04T15:03:30.061799775+01:00","closed_at":"2026-01-04T15:03:30.061799775+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-6xr","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-04T14:53:40.435612208+01:00","created_by":"daemon"}]}
{"id":"epistemon-761","title":"Make the Shiny UI search bar wider and actionable","description":"Create a dynamic search bar that uses up the screen width available left next to the Result Limit setting and the Search button. The Result Limit box can be smaller. And when hitting enter in the search bar, the search should execute.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T10:34:19.803316018+01:00","created_by":"fnl","updated_at":"2026-01-04T14:44:04.896063604+01:00","closed_at":"2026-01-04T14:44:04.896063604+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-761","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-04T11:30:31.510313862+01:00","created_by":"daemon"}]}
{"id":"epistemon-78b","title":"Ask the LLM generating the answer to create proper source links","description":"Add instructions to the prompt to create proper source links (full URL); might require showing the source path and URLs in the chunks presented to the LLM.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T11:35:42.594068476+01:00","created_by":"fnl","updated_at":"2026-01-04T15:07:48.024756683+01:00","closed_at":"2026-01-04T15:07:48.024756683+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-78b","depends_on_id":"epistemon-guf","type":"blocks","created_at":"2026-01-04T11:41:42.801671948+01:00","created_by":"fnl"}]}
{"id":"epistemon-7oq","title":"Implement and test error display","description":"Use TDD to implement this feature:\n1. Write failing tests for error display in UI\n2. Implement error display components\n3. Refactor and ensure all tests pass\n\nGIVEN the RAG chain encounters an error\nWHEN the error is returned to the UI\nTHEN an error alert should be displayed in the RAG answer column\nAND the error message should be clear and user-friendly\nAND the error should not crash the application or affect other search results","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:18.217360691+01:00","created_by":"fnl","updated_at":"2026-01-04T10:12:00.242813163+01:00","closed_at":"2026-01-04T10:12:00.242813163+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-7oq","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-03T19:51:59.668509201+01:00","created_by":"fnl"},{"issue_id":"epistemon-7oq","depends_on_id":"epistemon-qzb","type":"blocks","created_at":"2026-01-03T22:41:59.643968792+01:00","created_by":"fnl"}]}
{"id":"epistemon-7wh","title":"Create test_hybrid_retriever.py with unit tests","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:25.639125868+01:00","created_by":"fnl","updated_at":"2026-01-03T16:27:45.085379652+01:00","dependencies":[{"issue_id":"epistemon-7wh","depends_on_id":"epistemon-125","type":"blocks","created_at":"2026-01-03T14:37:50.249577794+01:00","created_by":"fnl"}],"deleted_at":"2026-01-03T16:27:45.085379652+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"epistemon-8lh","title":"Handle missing API key errors","description":"If the configuration is correct, but the API key is wrong or missing, the app should crash with a clear reason while indexing. If the missing API key only occurs in query mode when the app is running, an error should be logged, and an alert should show up on the user interface.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:25.396003689+01:00","created_by":"fnl","updated_at":"2026-01-04T19:18:24.828554949+01:00","closed_at":"2026-01-04T19:18:24.828554949+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-8lh","depends_on_id":"epistemon-we8","type":"parent-child","created_at":"2026-01-03T19:52:06.747877044+01:00","created_by":"fnl"}]}
{"id":"epistemon-9wa","title":"Implement and test loading state handling","description":"Use TDD to implement this feature:\n1. Write failing tests for loading state display\n2. Implement loading indicator components\n3. Refactor and ensure all tests pass\n\nGIVEN the user submits a question to the RAG chain\nWHEN the LLM is processing the request\nTHEN a loading indicator should be displayed in the RAG answer column\nAND the user should understand that processing is in progress\nAND the interface should remain responsive during loading\nSO THAT users know their request is being handled and don't submit duplicate requests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:18.201185039+01:00","created_by":"fnl","updated_at":"2026-01-04T10:09:32.578795053+01:00","closed_at":"2026-01-04T10:09:32.578795053+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-9wa","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-03T19:51:59.338524109+01:00","created_by":"fnl"},{"issue_id":"epistemon-9wa","depends_on_id":"epistemon-qzb","type":"blocks","created_at":"2026-01-03T22:41:54.045093328+01:00","created_by":"fnl"}]}
{"id":"epistemon-a57","title":"Implement and test source preservation","description":"Use TDD to implement this feature:\n1. Write failing tests for source document preservation\n2. Implement source tracking in RAGResponse\n3. Refactor and ensure all tests pass\n\nGIVEN the RAG chain retrieves documents and generates an answer\nWHEN the answer is returned to the user\nTHEN the source documents used should be preserved in the response\nAND document metadata (source, score) should be available\nAND users should be able to trace which documents informed the answer\nSO THAT users can verify the answer's basis and explore source material for more detail","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:11.524121595+01:00","created_by":"fnl","updated_at":"2026-01-04T00:31:27.077201177+01:00","closed_at":"2026-01-04T00:31:27.077201177+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-a57","depends_on_id":"epistemon-3il","type":"parent-child","created_at":"2026-01-03T19:51:50.035546841+01:00","created_by":"fnl"},{"issue_id":"epistemon-a57","depends_on_id":"epistemon-odg","type":"blocks","created_at":"2026-01-03T22:40:25.457194192+01:00","created_by":"fnl"},{"issue_id":"epistemon-a57","depends_on_id":"epistemon-vxb","type":"blocks","created_at":"2026-01-03T22:40:40.181397089+01:00","created_by":"fnl"}]}
{"id":"epistemon-ahq","title":"Write test for config loading with LLM fields","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T14:36:57.515215291+01:00","created_by":"fnl","updated_at":"2026-01-03T16:27:46.532612901+01:00","dependencies":[{"issue_id":"epistemon-ahq","depends_on_id":"epistemon-s5a","type":"blocks","created_at":"2026-01-03T14:37:48.443634977+01:00","created_by":"fnl"}],"deleted_at":"2026-01-03T16:27:46.532612901+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"epistemon-bvj","title":"Decompose RAGChain.invoke into retrieve_documents and generate_answer","description":"### Scenario: retrieve_documents returns document list\n- GIVEN a RAGChain with a retriever that returns scored documents\n- WHEN retrieve_documents is called with a query\n- THEN it returns a flat list of Documents without scores\n\n### Scenario: generate_answer formats context and calls LLM\n- GIVEN a RAGChain with a mock LLM\n- WHEN generate_answer is called with a query and source documents\n- THEN it formats context, fills the prompt template, calls the LLM, and returns a RAGResponse\n\n### Scenario: invoke behavior is unchanged\n- GIVEN the existing RAGChain tests\n- WHEN invoke is refactored to use retrieve_documents and generate_answer internally\n- THEN all existing tests pass without modification","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-31T21:33:58.687450467+01:00","created_by":"fnl","updated_at":"2026-01-31T21:33:58.687450467+01:00","dependencies":[{"issue_id":"epistemon-bvj","depends_on_id":"epistemon-z5r","type":"parent-child","created_at":"2026-01-31T21:34:10.011060334+01:00","created_by":"fnl"}]}
{"id":"epistemon-bvm","title":"Add complexipy to pre-commit hooks","description":"Add 'uv run complexipy epistemon' to the pre-commit hook configuration and update the hooks. This ensures all code maintains acceptable complexity scores.\n\nThis task is blocked by the 4 complexity refactoring tasks (epistemon-ca1, epistemon-dmk, epistemon-yjs, epistemon-n98) because we need to fix existing complexity issues before enforcing the check in pre-commit.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T22:05:49.233269028+01:00","created_by":"fnl","updated_at":"2026-01-04T23:58:04.741092717+01:00","closed_at":"2026-01-04T23:58:04.741092717+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-bvm","depends_on_id":"epistemon-ca1","type":"blocks","created_at":"2026-01-04T22:05:56.102305702+01:00","created_by":"fnl"},{"issue_id":"epistemon-bvm","depends_on_id":"epistemon-dmk","type":"blocks","created_at":"2026-01-04T22:05:56.36236003+01:00","created_by":"fnl"},{"issue_id":"epistemon-bvm","depends_on_id":"epistemon-yjs","type":"blocks","created_at":"2026-01-04T22:05:56.594170582+01:00","created_by":"fnl"},{"issue_id":"epistemon-bvm","depends_on_id":"epistemon-n98","type":"blocks","created_at":"2026-01-04T22:05:56.8401253+01:00","created_by":"fnl"}]}
{"id":"epistemon-c7d","title":"Make RAG answers concise and to the point, not exhaustive","description":"Tell the LLM to be concise with its answer. Pick from the provided sources what is needed, don't try to use everything that is in the chunks. Make sure the references to all pieces of information that generated the answer are present.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T11:48:49.964720823+01:00","updated_at":"2026-01-04T15:09:34.125795476+01:00","closed_at":"2026-01-04T15:09:34.125795476+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-c7d","depends_on_id":"epistemon-78b","type":"blocks","created_at":"2026-01-04T11:50:35.459331045+01:00","created_by":"daemon"}],"comments":[{"id":1,"issue_id":"epistemon-c7d","author":"fnl","text":"For an exhausitve answer, the user can go to the source.","created_at":"2026-01-04T10:49:59Z"}]}
{"id":"epistemon-ca1","title":"Refactor load_config to reduce complexity (score 42)","description":"The load_config function in epistemon/config.py has a complexity score of 42. It does too much: YAML loading, type validation for strings/integers/floats/booleans, enum validation, environment checks, and range validation for 8+ parameters.\n\nSolution: Extract validation into separate functions:\n- _load_yaml_config(config_path) -\u003e dict\n- _validate_field_types(config) -\u003e None\n- _validate_enum_fields(config) -\u003e None\n- _validate_numeric_ranges(config) -\u003e None\n- _check_api_key_requirements(config) -\u003e None","acceptance_criteria":"\"uvx complexipy epistemon/config.py\" passes with no failure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T22:04:44.338834162+01:00","created_by":"fnl","updated_at":"2026-01-04T23:12:36.866817418+01:00","closed_at":"2026-01-04T23:12:36.866817418+01:00","close_reason":"Closed"}
{"id":"epistemon-dmk","title":"Refactor create_app to reduce complexity (score 63)","description":"The create_app function in epistemon/web/app.py has a complexity score of 63 (highest). It's 300+ lines with nested endpoint definitions, large embedded HTML templates, complex file serving logic, and file listing with sorting.\n\nSolution: Extract to module level:\n- Move HTML templates to module constants (HTML_404_TEMPLATE, HTML_MARKDOWN_TEMPLATE)\n- Extract endpoint handlers: _serve_markdown_file(), _list_indexed_files(), _semantic_search()\n- Keep create_app focused on app assembly only","acceptance_criteria":"\"uvx complexipy epistemon/web/app.py\" passes with no failure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T22:04:44.58409966+01:00","created_by":"fnl","updated_at":"2026-01-04T23:23:43.3184477+01:00","closed_at":"2026-01-04T23:23:43.3184477+01:00","close_reason":"Closed"}
{"id":"epistemon-eap","title":"Write tests for OpenAI LLM creation","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T14:36:57.785613703+01:00","created_by":"fnl","updated_at":"2026-01-03T16:27:46.832565423+01:00","dependencies":[{"issue_id":"epistemon-eap","depends_on_id":"epistemon-s5a","type":"blocks","created_at":"2026-01-03T14:37:48.508946796+01:00","created_by":"fnl"}],"deleted_at":"2026-01-03T16:27:46.832565423+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"epistemon-edj","title":"Replace the mypy type-checker with ty (Astral)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T19:18:31.722551888+01:00","updated_at":"2026-01-04T19:43:36.477884941+01:00","closed_at":"2026-01-04T19:43:36.477884941+01:00","close_reason":"Closed"}
{"id":"epistemon-ens","title":"Add OpenAI LLM support to factory","description":"Use TDD to implement this feature:\n1. Write failing tests in tests/test_llm_factory.py for OpenAI LLM creation\n2. Implement minimal code in epistemon/llm_factory.py to pass the tests\n3. Refactor and ensure all tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:36:57.769259412+01:00","created_by":"fnl","updated_at":"2026-01-03T22:54:51.302331493+01:00","closed_at":"2026-01-03T22:54:51.302331493+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-ens","depends_on_id":"epistemon-s5a","type":"parent-child","created_at":"2026-01-03T19:48:49.66393444+01:00","created_by":"daemon"}]}
{"id":"epistemon-fev","title":"Add RAG-based retrieval to search UI","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2026-01-03T14:36:36.973063625+01:00","created_by":"fnl","updated_at":"2026-01-03T20:07:13.114419645+01:00","deleted_at":"2026-01-03T20:07:13.114419645+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"epistemon-fey","title":"Read config.yaml if exists in web-ui and upsert-index","description":"Currently `uv run web-ui` and `uv run upsert-index` use default config values. If ./config.yaml exists, these commands should read and use the configuration from that file instead of using defaults.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T00:02:39.558966781+01:00","created_by":"fnl","updated_at":"2026-01-05T00:04:37.770964906+01:00"}
{"id":"epistemon-fh8","title":"Create tracing module with TracedRAGChain","description":"### Scenario: TracedRAGChain wraps retrieval in a LangFuse span\n- GIVEN a TracedRAGChain wrapping a RAGChain with a mocked LangFuseTracing\n- WHEN invoke is called\n- THEN a retrieval span is created with document count and sources as output\n\n### Scenario: TracedRAGChain forwards CallbackHandler to LLM\n- GIVEN a TracedRAGChain with a mocked LangFuseTracing\n- WHEN invoke is called\n- THEN the LLM receives config with callbacks containing the LangFuse handler\n\n### Scenario: factory returns plain chain when tracing disabled\n- GIVEN tracing_enabled is False in configuration\n- WHEN create_traced_rag_chain is called\n- THEN the original RAGChain is returned unchanged","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-31T21:34:02.705207132+01:00","created_by":"fnl","updated_at":"2026-01-31T21:34:02.705207132+01:00","dependencies":[{"issue_id":"epistemon-fh8","depends_on_id":"epistemon-z5r","type":"parent-child","created_at":"2026-01-31T21:34:10.028560932+01:00","created_by":"fnl"},{"issue_id":"epistemon-fh8","depends_on_id":"epistemon-nfd","type":"blocks","created_at":"2026-01-31T21:34:15.046238834+01:00","created_by":"fnl"},{"issue_id":"epistemon-fh8","depends_on_id":"epistemon-bvj","type":"blocks","created_at":"2026-01-31T21:34:15.061742237+01:00","created_by":"fnl"}],"comments":[{"id":2,"issue_id":"epistemon-fh8","author":"fnl","text":"## LangFuse SDK Implementation Notes\n\nPackage: `langfuse\u003e=3.0.0` (includes `langfuse.langchain.CallbackHandler`)\n\n### Key APIs\n\nInitialize the client (reads LANGFUSE_SECRET_KEY, LANGFUSE_PUBLIC_KEY, LANGFUSE_HOST from env):\n```python\nfrom langfuse import get_client\nlangfuse = get_client()\n```\n\nCreate a LangChain callback handler for LLM tracing:\n```python\nfrom langfuse.langchain import CallbackHandler\nhandler = CallbackHandler()\n```\n\nPass to LLM via LangChain's config mechanism:\n```python\nresponse = llm.invoke(prompt, config={\"callbacks\": [handler]})\n```\n\nCreate nested spans for custom (non-LangChain) steps:\n```python\nwith langfuse.start_as_current_observation(\n    as_type=\"span\",\n    name=\"retrieval\",\n    input={\"query\": query},\n) as span:\n    results = retriever.retrieve(query)\n    span.update(output={\"document_count\": len(results)})\n```\n\nFlush pending traces before process exit (important for short-lived/serverless contexts):\n```python\nlangfuse.flush()    # non-blocking flush\nlangfuse.shutdown() # blocking flush + cleanup\n```\n\n### What CallbackHandler traces automatically\n\nWhen passed to a LangChain LLM .invoke() call, the handler captures:\n- Input prompt and output completion\n- Token counts (input/output)\n- Model name and parameters\n- Latency\n- Any errors\n\nNo special configuration needed -- it hooks into LangChain's callback system.","created_at":"2026-01-31T20:44:40Z"}]}
{"id":"epistemon-fu8","title":"Implement and test empty results handling","description":"Use TDD to implement this feature:\n1. Write failing tests for empty results scenarios\n2. Implement empty results handling in HybridRetriever\n3. Refactor and ensure all tests pass\n\nGIVEN the hybrid retriever queries both BM25 and semantic retrievers\nWHEN both retrievers return no results\nTHEN the hybrid retriever should return an empty list gracefully\nAND should not raise errors or return None\nAND the caller should be able to handle the empty results appropriately\nSO THAT the application degrades gracefully when no matches are found","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:05.187604756+01:00","created_by":"fnl","updated_at":"2026-01-04T00:19:49.867107193+01:00","closed_at":"2026-01-04T00:19:49.867107193+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-fu8","depends_on_id":"epistemon-049","type":"parent-child","created_at":"2026-01-03T19:51:35.646319521+01:00","created_by":"fnl"},{"issue_id":"epistemon-fu8","depends_on_id":"epistemon-x4c","type":"blocks","created_at":"2026-01-03T22:37:09.453844492+01:00","created_by":"fnl"}]}
{"id":"epistemon-guf","title":"Web UI Integration","description":"AS A user\nI WANT TO see RAG-generated answers displayed in the web interface with their source context\nSO THAT I can understand how the AI generated its answer and verify the sources\n\nThis epic integrates the RAG chain into the Shiny web interface, adding a third column for displaying AI-generated answers alongside BM25 and semantic search results.\n\nThe RAG column should display:\n1. The generated answer text (at the top)\n2. The source document chunks used as context (below the answer)\n\nThis allows users to:\n- See the synthesized answer\n- Verify which documents were used as context\n- Compare RAG answers with raw BM25/semantic search results\n- Understand the provenance of generated answers","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-03T14:36:38.191577612+01:00","created_by":"fnl","updated_at":"2026-01-04T15:03:51.161022982+01:00","closed_at":"2026-01-04T15:03:51.161022982+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-guf","depends_on_id":"epistemon-3il","type":"blocks","created_at":"2026-01-03T14:36:47.302764001+01:00","created_by":"fnl"}]}
{"id":"epistemon-guf.1","title":"Move search UI to top bar spanning all columns","description":"Use TDD to implement this feature:\n1. Write failing tests in tests/test_shiny_ui.py for top search bar layout\n2. Implement minimal code in epistemon/web/shiny_ui.py to move search elements from sidebar to top bar\n3. Refactor and ensure all tests pass\n\nCurrent layout has search elements in a left sidebar. New layout should:\n- Place search input, result limit, and search button in a horizontal bar at the top\n- Have the bar span the full width above all three result columns\n- Keep the three-column layout below the search bar\n- Maintain responsive design and proper spacing\n\nThis improves the UI by giving more horizontal space to the result columns.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T09:31:41.15509849+01:00","created_by":"fnl","updated_at":"2026-01-04T09:54:37.926198+01:00","closed_at":"2026-01-04T09:54:37.926198+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-guf.1","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-04T09:31:41.156641918+01:00","created_by":"fnl"}]}
{"id":"epistemon-gya","title":"Implement and test error handling for API failures","description":"Use TDD to implement this feature:\n1. Write failing tests for API failure scenarios\n2. Implement error handling in RAGChain\n3. Refactor and ensure all tests pass\n\nGIVEN the RAG chain calls the LLM API\nWHEN the API call fails (network error, rate limit, invalid key, etc.)\nTHEN the error should be caught and handled gracefully\nAND a descriptive error message should be returned in the RAGResponse\nAND the application should not crash or hang\nSO THAT users receive clear feedback about issues and can take corrective action","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:11.507701695+01:00","created_by":"fnl","updated_at":"2026-01-04T00:32:56.220320433+01:00","closed_at":"2026-01-04T00:32:56.220320433+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-gya","depends_on_id":"epistemon-3il","type":"parent-child","created_at":"2026-01-03T19:51:49.710200991+01:00","created_by":"fnl"},{"issue_id":"epistemon-gya","depends_on_id":"epistemon-odg","type":"blocks","created_at":"2026-01-03T22:40:19.595273333+01:00","created_by":"fnl"},{"issue_id":"epistemon-gya","depends_on_id":"epistemon-vxb","type":"blocks","created_at":"2026-01-03T22:40:35.523463796+01:00","created_by":"fnl"}]}
{"id":"epistemon-iy0","title":"Create test_rag_ui.py with integration tests","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:25.671698714+01:00","created_by":"fnl","updated_at":"2026-01-03T16:27:45.656705385+01:00","dependencies":[{"issue_id":"epistemon-iy0","depends_on_id":"epistemon-125","type":"blocks","created_at":"2026-01-03T14:37:50.282680312+01:00","created_by":"fnl"}],"deleted_at":"2026-01-03T16:27:45.656705385+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"epistemon-j4x","title":"Add environment variable validation for API keys","description":"Use TDD to implement this feature:\n1. Write failing tests for environment variable validation\n2. Implement validation logic\n3. Refactor and ensure all tests pass\n\nGIVEN the application is starting up\nWHEN the configuration is loaded\nTHEN API key environment variables should be validated\nAND clear error messages should be provided for missing or invalid keys\nAND the application should fail fast before attempting API calls","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:25.379794213+01:00","created_by":"fnl","updated_at":"2026-01-04T19:06:08.974600621+01:00","closed_at":"2026-01-04T19:06:08.974600621+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-j4x","depends_on_id":"epistemon-we8","type":"parent-child","created_at":"2026-01-03T19:52:06.491088055+01:00","created_by":"fnl"}]}
{"id":"epistemon-lg5","title":"Implement and test BM25-only retrieval","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:04.80323692+01:00","created_by":"fnl","updated_at":"2026-01-03T20:32:34.19898147+01:00","deleted_at":"2026-01-03T20:32:34.19898147+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"epistemon-lna","title":"Create RAGResponse dataclass","description":"Use TDD to implement this feature:\n1. Write failing tests in tests/test_rag_chain.py for RAGResponse dataclass\n2. Implement minimal code in epistemon/rag/rag_chain.py to pass the tests\n3. Refactor and ensure all tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:11.213870776+01:00","created_by":"fnl","updated_at":"2026-01-04T00:23:03.528402645+01:00","closed_at":"2026-01-04T00:23:03.528402645+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-lna","depends_on_id":"epistemon-3il","type":"parent-child","created_at":"2026-01-03T19:51:48.156105832+01:00","created_by":"fnl"}]}
{"id":"epistemon-n98","title":"Refactor index to reduce complexity (score 16)","description":"The index function in epistemon/indexing/indexer.py has a complexity score of 16. It orchestrates file change detection and processing for new, modified, and deleted files with multiple nested loops and measure blocks.\n\nSolution: Extract processing functions:\n- _process_deleted_files(deleted_files, manager) -\u003e None\n- _process_new_files(new_files, config, directory, manager) -\u003e None\n- _process_modified_files(modified_files, config, directory, manager) -\u003e None\nThis will separate concerns and make each processing step testable.","acceptance_criteria":"\"uvx complexipy epistemon/indexing/indexer.py\" passes with no failure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T22:04:45.0954499+01:00","created_by":"fnl","updated_at":"2026-01-04T23:43:59.466316369+01:00","closed_at":"2026-01-04T23:43:59.466316369+01:00","close_reason":"Closed"}
{"id":"epistemon-nfd","title":"Add tracing_enabled config field with env var validation","description":"### Scenario: tracing disabled by default\n- GIVEN a config.yaml without tracing settings\n- WHEN configuration is loaded\n- THEN tracing_enabled is False\n\n### Scenario: tracing enabled requires LangFuse keys\n- GIVEN tracing_enabled is true in config.yaml\n- WHEN configuration is loaded without LANGFUSE_SECRET_KEY or LANGFUSE_PUBLIC_KEY\n- THEN a ValueError is raised explaining which key is missing\n\n### Scenario: tracing enabled with valid keys\n- GIVEN tracing_enabled is true in config.yaml\n- WHEN LANGFUSE_SECRET_KEY and LANGFUSE_PUBLIC_KEY are set\n- THEN configuration loads successfully","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-31T21:33:54.59201681+01:00","created_by":"fnl","updated_at":"2026-01-31T21:33:54.59201681+01:00","dependencies":[{"issue_id":"epistemon-nfd","depends_on_id":"epistemon-z5r","type":"parent-child","created_at":"2026-01-31T21:34:09.993939654+01:00","created_by":"fnl"},{"issue_id":"epistemon-nfd","depends_on_id":"epistemon-6hn","type":"blocks","created_at":"2026-01-31T21:34:15.02877788+01:00","created_by":"fnl"}]}
{"id":"epistemon-nkv","title":"Show a proper error message if the answer-generating LLM API returned with an error code","description":"E.g., when using OpenAI, you might get a 429 when you have no more quota left: '''Error generating answer: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}''' Properly display that as an alert instead of in the answer card.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T11:01:20.362345463+01:00","created_by":"fnl","updated_at":"2026-01-04T14:05:13.033181954+01:00","closed_at":"2026-01-04T14:05:13.033181954+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-nkv","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-04T11:30:05.468681974+01:00","created_by":"daemon"}]}
{"id":"epistemon-odg","title":"Create RAGChain class skeleton","description":"Use TDD to implement this feature:\n1. Write failing tests in tests/test_rag_chain.py for RAGChain class skeleton\n2. Implement minimal code in epistemon/rag/rag_chain.py to pass the tests\n3. Refactor and ensure all tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:11.232290584+01:00","created_by":"fnl","updated_at":"2026-01-04T00:24:27.166900963+01:00","closed_at":"2026-01-04T00:24:27.166900963+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-odg","depends_on_id":"epistemon-3il","type":"parent-child","created_at":"2026-01-03T19:51:48.463522323+01:00","created_by":"fnl"},{"issue_id":"epistemon-odg","depends_on_id":"epistemon-lna","type":"blocks","created_at":"2026-01-03T22:40:01.714221088+01:00","created_by":"fnl"}]}
{"id":"epistemon-phr","title":"Implement and test context document formatting","description":"Use TDD to implement this feature:\n1. Write failing tests for context formatting\n2. Implement document-to-context formatting in RAGChain\n3. Refactor and ensure all tests pass\n\nGIVEN retrieved documents are passed to the LLM\nWHEN the context is prepared for the prompt\nTHEN documents should be formatted with clear separators and metadata\nAND the format should help the LLM identify distinct sources\nAND the context should include source attribution\nSO THAT the LLM can generate accurate answers and properly cite sources","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:11.265427427+01:00","created_by":"fnl","updated_at":"2026-01-04T00:26:09.17880997+01:00","closed_at":"2026-01-04T00:26:09.17880997+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-phr","depends_on_id":"epistemon-3il","type":"parent-child","created_at":"2026-01-03T19:51:49.072537073+01:00","created_by":"fnl"},{"issue_id":"epistemon-phr","depends_on_id":"epistemon-odg","type":"blocks","created_at":"2026-01-03T22:40:06.496589735+01:00","created_by":"fnl"}]}
{"id":"epistemon-qb6","title":"Create test_rag_chain.py with unit tests","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:25.65556131+01:00","created_by":"fnl","updated_at":"2026-01-03T16:27:45.371625782+01:00","dependencies":[{"issue_id":"epistemon-qb6","depends_on_id":"epistemon-125","type":"blocks","created_at":"2026-01-03T14:37:50.266293332+01:00","created_by":"fnl"}],"deleted_at":"2026-01-03T16:27:45.371625782+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"epistemon-qg1","title":"Hybrid retrieval results are merged and deduplicated","description":"Use TDD to implement this feature:\n1. Write failing tests for result merging and deduplication\n2. Implement merge logic in HybridRetriever.retrieve()\n3. Refactor and ensure all tests pass\n\nGIVEN the BM25 and semantic retrievers both return results\nWHEN some documents appear in both result sets\nTHEN duplicate documents should be identified by source metadata\nAND duplicates should be merged with the highest score preserved\nAND results should be sorted by score after deduplication\nSO THAT users see each relevant document once with its best ranking, avoiding redundancy in the result set","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:05.142099978+01:00","created_by":"fnl","updated_at":"2026-01-04T00:18:45.629867864+01:00","closed_at":"2026-01-04T00:18:45.629867864+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-qg1","depends_on_id":"epistemon-049","type":"parent-child","created_at":"2026-01-03T19:51:35.069057225+01:00","created_by":"fnl"},{"issue_id":"epistemon-qg1","depends_on_id":"epistemon-x4c","type":"blocks","created_at":"2026-01-03T22:37:02.474997487+01:00","created_by":"fnl"}]}
{"id":"epistemon-qzb","title":"Implement and test RAG answer card rendering","description":"Use TDD to implement this feature:\n1. Write failing tests in tests/test_shiny_ui.py for RAG answer card rendering\n2. Implement minimal code in epistemon/web/shiny_ui.py to render RAG answers\n3. Refactor and ensure all tests pass\n\nThe RAG answer card should display:\n- The generated answer text in a prominent section at the top\n- A separator or divider\n- The source document chunks below, showing:\n  - Source file name\n  - Document content\n  - Metadata (e.g., last modified)\n\nThis provides full transparency into what context was used to generate the answer.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:17.960093342+01:00","created_by":"fnl","updated_at":"2026-01-04T10:01:19.130016781+01:00","closed_at":"2026-01-04T10:01:19.130016781+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-qzb","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-03T19:51:59.032620952+01:00","created_by":"fnl"},{"issue_id":"epistemon-qzb","depends_on_id":"epistemon-xlm","type":"blocks","created_at":"2026-01-03T22:41:42.842265988+01:00","created_by":"fnl"},{"issue_id":"epistemon-qzb","depends_on_id":"epistemon-4sx","type":"blocks","created_at":"2026-01-03T22:41:48.429610992+01:00","created_by":"fnl"}]}
{"id":"epistemon-rwn","title":"Implement and test RAG disabled message","description":"Use TDD to implement this feature:\n1. Write failing tests in tests/test_shiny_ui.py for RAG disabled message display\n2. Implement minimal code in epistemon/web/shiny_ui.py to show disabled message\n3. Refactor and ensure all tests pass","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-03T14:37:17.926339515+01:00","created_by":"fnl","updated_at":"2026-01-04T10:12:41.913270219+01:00","closed_at":"2026-01-04T10:12:41.913270219+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-rwn","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-03T19:52:00.298285407+01:00","created_by":"fnl"},{"issue_id":"epistemon-rwn","depends_on_id":"epistemon-xlm","type":"blocks","created_at":"2026-01-03T22:42:05.23831747+01:00","created_by":"fnl"},{"issue_id":"epistemon-rwn","depends_on_id":"epistemon-4sx","type":"blocks","created_at":"2026-01-03T22:42:08.875664475+01:00","created_by":"fnl"}]}
{"id":"epistemon-s5a","title":"LLM Infrastructure","description":"AS A developer\nI WANT TO have a factory for creating LLM instances with different providers\nSO THAT I can easily switch between Fake LLMs for testing and OpenAI LLMs for production without changing application code\n\nThis epic provides the foundation for LLM-based features by abstracting the LLM creation process.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-03T14:36:37.269007682+01:00","created_by":"fnl","updated_at":"2026-01-03T22:54:51.524389553+01:00","closed_at":"2026-01-03T22:54:51.524389553+01:00","close_reason":"Closed"}
{"id":"epistemon-sw4","title":"Add LLM config fields to Configuration dataclass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:36:57.498021999+01:00","created_by":"fnl","updated_at":"2026-01-03T14:41:19.852610663+01:00","closed_at":"2026-01-03T14:41:19.852610663+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-sw4","depends_on_id":"epistemon-s5a","type":"blocks","created_at":"2026-01-03T14:37:48.427962774+01:00","created_by":"fnl"}]}
{"id":"epistemon-tan","title":"Fix unwanted embedded imports in cli.py","description":"The cli.py has a function web_ui_command that contains embedded imports. Move them out and to the top of the module. And then fix them, as the imports are broken.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-04T19:42:08.919101433+01:00","updated_at":"2026-01-04T20:13:03.821931559+01:00","closed_at":"2026-01-04T20:13:03.821931559+01:00","close_reason":"Closed"}
{"id":"epistemon-tvq","title":"BM25 returns results even with no keyword matches","description":"BM25 keyword search returns results even when there are no actual keyword matches in the documents. This is visible in the UI where search results appear without any highlighted keywords. The retrieve() method should filter out results that have no actual matches (score of 0 or very close to 0).","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-04T14:47:54.670388213+01:00","created_by":"fnl","updated_at":"2026-01-04T14:49:53.944830568+01:00","closed_at":"2026-01-04T14:49:53.944830568+01:00","close_reason":"Closed"}
{"id":"epistemon-v8o","title":"Implement and test semantic-only retrieval","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:04.787375996+01:00","created_by":"fnl","updated_at":"2026-01-03T20:32:34.19898147+01:00","deleted_at":"2026-01-03T20:32:34.19898147+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"epistemon-vwu","title":"Create llm_factory.py with Fake LLM support","description":"Use TDD to implement this feature:\n1. Write failing tests in tests/test_llm_factory.py for Fake LLM creation\n2. Implement minimal code in epistemon/llm_factory.py to pass the tests\n3. Refactor and ensure all tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:36:57.531060753+01:00","created_by":"fnl","updated_at":"2026-01-03T22:51:48.468087512+01:00","closed_at":"2026-01-03T22:51:48.468087512+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-vwu","depends_on_id":"epistemon-s5a","type":"parent-child","created_at":"2026-01-03T19:51:33.94951322+01:00","created_by":"fnl"}]}
{"id":"epistemon-vxb","title":"Implement and test basic answer generation","description":"Use TDD to implement this feature:\n1. Write failing tests for answer generation\n2. Implement LLM invocation and response handling\n3. Refactor and ensure all tests pass\n\nGIVEN the RAG chain has formatted context from retrieved documents\nWHEN the LLM is invoked with the context and user question\nTHEN the LLM should generate a relevant answer based on the context\nAND the answer should be extracted from the LLM response\nAND the answer should be returned in the RAGResponse\nSO THAT users receive AI-generated answers grounded in their document corpus","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:11.248649344+01:00","created_by":"fnl","updated_at":"2026-01-04T00:27:55.702251049+01:00","closed_at":"2026-01-04T00:27:55.702251049+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-vxb","depends_on_id":"epistemon-3il","type":"parent-child","created_at":"2026-01-03T19:51:48.774007002+01:00","created_by":"fnl"},{"issue_id":"epistemon-vxb","depends_on_id":"epistemon-odg","type":"blocks","created_at":"2026-01-03T22:40:11.447616445+01:00","created_by":"fnl"},{"issue_id":"epistemon-vxb","depends_on_id":"epistemon-phr","type":"blocks","created_at":"2026-01-03T22:40:30.380611834+01:00","created_by":"fnl"}]}
{"id":"epistemon-vzx","title":"Implement and test empty context handling","description":"Use TDD to implement this feature:\n1. Write failing tests for empty context scenarios\n2. Implement empty context handling in RAGChain\n3. Refactor and ensure all tests pass\n\nGIVEN the user submits a query\nWHEN no relevant documents are found by the retriever\nTHEN the RAG chain should handle the empty context gracefully\nAND should return a response indicating no relevant documents were found\nAND should not send empty context to the LLM (to avoid wasted API calls)\nSO THAT users understand why no answer was generated and can refine their query","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:11.491427253+01:00","created_by":"fnl","updated_at":"2026-01-04T00:29:19.526368375+01:00","closed_at":"2026-01-04T00:29:19.526368375+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-vzx","depends_on_id":"epistemon-3il","type":"parent-child","created_at":"2026-01-03T19:51:49.387101818+01:00","created_by":"fnl"},{"issue_id":"epistemon-vzx","depends_on_id":"epistemon-odg","type":"blocks","created_at":"2026-01-03T22:40:15.634710808+01:00","created_by":"fnl"}]}
{"id":"epistemon-we8","title":"CLI Integration","description":"AS A user\nI WANT TO configure the application with API keys and run it from the command line\nSO THAT I can use the RAG-enhanced search system with proper authentication and configuration\n\nThis epic adds configuration management and error handling for API keys in the CLI, ensuring the application fails gracefully with clear error messages.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-03T14:36:38.508121993+01:00","created_by":"fnl","updated_at":"2026-01-04T19:37:01.424091637+01:00","closed_at":"2026-01-04T19:37:01.424091637+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-we8","depends_on_id":"epistemon-guf","type":"blocks","created_at":"2026-01-03T14:36:47.324987436+01:00","created_by":"fnl"}]}
{"id":"epistemon-x4c","title":"Create HybridRetriever class skeleton","description":"Use TDD to implement this feature:\n1. Write failing tests in tests/test_hybrid_retriever.py for HybridRetriever class skeleton\n2. Implement minimal code in epistemon/retrieval/hybrid_retriever.py to pass the tests\n3. Refactor and ensure all tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:04.771094214+01:00","created_by":"fnl","updated_at":"2026-01-03T23:30:47.819774543+01:00","closed_at":"2026-01-03T23:30:47.819774543+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-x4c","depends_on_id":"epistemon-049","type":"parent-child","created_at":"2026-01-03T19:51:34.228198182+01:00","created_by":"fnl"}]}
{"id":"epistemon-x5i","title":"Update web_ui_command to pass config object","description":"Use TDD to implement this feature:\n1. Write failing tests for config object passing\n2. Update web_ui_command to accept and pass config\n3. Refactor and ensure all tests pass\n\nGIVEN the user runs the web UI command\nWHEN the command initializes the application\nTHEN the configuration object should be passed to create_app\nAND the config should include all necessary API keys and settings\nAND the web UI should have access to RAG components based on config","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:25.362075392+01:00","created_by":"fnl","updated_at":"2026-01-04T18:57:23.906700136+01:00","closed_at":"2026-01-04T18:57:23.906700136+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-x5i","depends_on_id":"epistemon-we8","type":"parent-child","created_at":"2026-01-03T19:52:06.226534843+01:00","created_by":"fnl"}]}
{"id":"epistemon-xh4","title":"Make the weight of BM25 and embedding search results in Hybrid search configurable","description":"The weights for using either BM25 or semantic embedding results in the hybrid search should be configurable in the YAML file and default to 0.3 and 0.7 for keyword vs semantic search results.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T11:19:52.834382821+01:00","created_by":"fnl","updated_at":"2026-01-04T13:39:24.204419904+01:00","closed_at":"2026-01-04T13:39:24.204419904+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-xh4","depends_on_id":"epistemon-3il","type":"parent-child","created_at":"2026-01-04T11:27:10.028921755+01:00","created_by":"daemon"}]}
{"id":"epistemon-xlm","title":"Update create_shiny_app signature for RAG components","description":"Use TDD to implement this feature:\n1. Write failing tests in tests/test_shiny_ui.py for RAG component parameters\n2. Update epistemon/web/shiny_ui.py signature to accept RAG components\n3. Refactor and ensure all tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:17.908464216+01:00","created_by":"fnl","updated_at":"2026-01-04T09:51:31.916190774+01:00","closed_at":"2026-01-04T09:51:31.916190774+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-xlm","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-03T19:51:58.452047179+01:00","created_by":"fnl"}]}
{"id":"epistemon-yjs","title":"Refactor _execute_semantic_search to reduce complexity (score 19)","description":"The _execute_semantic_search function in epistemon/web/shiny_ui.py has a complexity score of 19. It handles input validation, error handling, empty store detection, metric type detection, score filtering, and result card generation.\n\nSolution: Extract helper functions:\n- _detect_metric_type(results_with_scores) -\u003e str\n- _determine_score_class(score, metric_type) -\u003e str\nThis will separate metric detection logic from the main search execution flow.","acceptance_criteria":"\"uvx complexipy epistemon/web/shiny_ui.py\" passes with no failure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T22:04:44.841630762+01:00","created_by":"fnl","updated_at":"2026-01-04T23:38:10.619203842+01:00","closed_at":"2026-01-04T23:38:10.619203842+01:00","close_reason":"Closed"}
{"id":"epistemon-z5r","title":"Add LangFuse tracing to RAG pipeline","description":"## Story: Add LangFuse Tracing\n- AS A developer operating Epistemon\n- I WANT the RAG pipeline traced with LangFuse\n- SO THAT I can monitor retrieval quality, LLM generation behavior, token usage, and latency\n\n### Acceptance Criteria\n- Tracing is opt-in via `tracing_enabled: true` in config.yaml\n- When enabled, every RAG invocation creates a LangFuse trace with:\n  - A top-level rag-pipeline span (input query, output answer)\n  - A retrieval child span (document count, sources retrieved)\n  - LLM generation captured via LangChain CallbackHandler (prompt, completion, tokens, latency)\n- When disabled, no LangFuse calls are made and there is zero overhead\n- All LangFuse-specific code is isolated in epistemon/tracing.py\n- Business logic classes (RAGChain, HybridRetriever) remain unaware of tracing","status":"open","priority":3,"issue_type":"epic","created_at":"2026-01-31T21:33:46.552893526+01:00","created_by":"fnl","updated_at":"2026-01-31T21:33:46.552893526+01:00"}
{"id":"epistemon-z75","title":"Fix 39 type errors found by ty type checker","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T19:43:36.701026139+01:00","created_by":"fnl","updated_at":"2026-01-04T19:53:44.176770893+01:00","closed_at":"2026-01-04T19:53:44.176770893+01:00","close_reason":"Closed"}
{"id":"epistemon-zf3","title":"Update create_app to initialize RAG components","description":"Use TDD to implement this feature:\n1. Write failing tests in tests/test_web.py for RAG component initialization\n2. Update epistemon/web/app.py to initialize RAG components\n3. Refactor and ensure all tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:37:18.234443363+01:00","created_by":"fnl","updated_at":"2026-01-04T10:06:32.449280885+01:00","closed_at":"2026-01-04T10:06:32.449280885+01:00","close_reason":"Closed","dependencies":[{"issue_id":"epistemon-zf3","depends_on_id":"epistemon-guf","type":"parent-child","created_at":"2026-01-03T19:51:59.980400091+01:00","created_by":"fnl"},{"issue_id":"epistemon-zf3","depends_on_id":"epistemon-xlm","type":"blocks","created_at":"2026-01-03T22:41:32.717964733+01:00","created_by":"fnl"}]}
